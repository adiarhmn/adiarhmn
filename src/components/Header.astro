---
// Tidak perlu props untuk sekarang
// import { useState } from 'astro/jsx-runtime';
import { switchLangPath } from '../i18n/index'

const BASE_URL = import.meta.env.BASE_URL
const pathname = Astro.url.pathname
const lang = pathname.split('/')[1] === 'id' ? 'id' : 'en'
---

<header class="fixed inset-x-0 top-0 backdrop-blur-md z-50">
    <nav class="mx-auto w-full lg:w-5xl md:max-w-5xl p-5 flex items-center justify-between">
        <!-- Logo -->
        <a
            href="/"
            class="font-anton uppercase text-2xl bg-clip-text bg-linear-to-br from-sky-500 to-white text-transparent"
        >
            Adi Aulia Rahman
        </a>

        <!-- Desktop Menu -->
        <ul class="hidden md:flex gap-7 font-medium">
            <li><a class="hover:text-gray-300 text-slate-300 hover:underline" href={`${BASE_URL}${lang}`}>Home</a></li>
            <li>
                <a class="hover:text-gray-300 text-slate-300 hover:underline" href={`${BASE_URL}${lang}/about-me`}
                    >About Me</a
                >
            </li>
            <li>
                <a class="hover:text-gray-300 text-slate-300 hover:underline" href={`${BASE_URL}${lang}/contact-me`}
                    >Contact Me</a
                >
            </li>
            <li>
                <a class="hover:text-gray-300 text-slate-300 hover:underline" href={`${BASE_URL}${lang}/projects`}
                    >Projects</a
                >
            </li>
            <li><a class="hover:text-gray-300 text-slate-300 hover:underline" href={`${BASE_URL}${lang}/blogs`}>Blogs</a></li>
            <li>
                <div class="flex gap-2 font-bold">
                    <a class="text-sky-500" href={switchLangPath(pathname, 'id')}>ID</a>
                    <span>|</span>
                    <a class="text-sky-500" href={switchLangPath(pathname, 'en')}>EN</a>
                </div>
            </li>
        </ul>

        <!-- Mobile Toggle -->
        <button
            id="menuBtn"
            class="md:hidden flex flex-col gap-1.5 cursor-pointer"
            aria-label="Toggle Menu"
            onclick="document.getElementById('mobileMenu').classList.toggle('hidden')"
        >
            <span class="w-6 h-0.5 bg-sky-600"></span>
            <span class="w-6 h-0.5 bg-sky-600"></span>
            <span class="w-6 h-0.5 bg-sky-600"></span>
        </button>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="hidden md:hidden shadow">
        <ul class="flex flex-col gap-5 px-5 py-4 font-medium">
            <li><a class="block hover:underline" href="/">Home</a></li>
            <li><a class="block hover:underline" href="/about">About Me</a></li>
            <li><a class="block hover:underline" href="/contact">Contact Me</a></li>
            <li><a class="block hover:underline" href="/projects">Projects</a></li>
            <li><a class="block hover:underline" href="/blogs">Blogs</a></li>
            <!-- <li><a class="block hover:underline" href={switchLang}>Blog</a></li> -->
        </ul>
    </div>
</header>
